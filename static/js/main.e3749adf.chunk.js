(this["webpackJsonptwitch-alertbox-tmi"]=this["webpackJsonptwitch-alertbox-tmi"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},27:function(e,t){},42:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(10),r=n.n(i),c=(n(17),n(2)),o=n(3),l=n(5),h=n(4),u=(n.p,n(18),n(19),n(0)),d=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.bits,s=e.message;return Object(u.jsx)("div",{id:"widget",className:"widget-AlertBox","data-layout":"side",children:Object(u.jsxs)("div",{id:"alert-box",children:[Object(u.jsx)("div",{id:"particles"}),Object(u.jsxs)("div",{id:"wrap",children:[Object(u.jsx)("div",{id:"alert-image-wrap",children:Object(u.jsx)("div",{id:"alert-image",style:{backgroundImage:'url("https://uploads.twitchalerts.com/000/031/541/432/289.gif")'},children:Object(u.jsx)("img",{style:{height:"1px",opacity:0,width:"1px"},src:"https://uploads.twitchalerts.com/000/031/541/432/289.gif"})})}),Object(u.jsx)("div",{id:"alert-text-wrap",children:Object(u.jsxs)("div",{id:"alert-text",children:[Object(u.jsxs)("div",{id:"alert-message",style:{fontSize:"34px",color:"rgb(255, 255, 255)",fontFamily:'"Noto Sans TC"',fontWeight:400},children:[Object(u.jsx)("span",{"data-token":"name",style:{color:"rgb(229, 143, 95)",position:"relative"},children:Object(u.jsx)("span",{children:Object(u.jsx)("span",{className:"animated-letter None",children:t})})}),"\u4eca\u65e5\u61a4\u6012\u306e\u5c4c\u6254",Object(u.jsx)("span",{"data-token":"amount",style:{color:"rgb(229, 143, 95)",position:"relative"},children:Object(u.jsx)("span",{children:Object(u.jsx)("span",{className:"animated-letter None",children:n})})}),"\u7c92\u7136\u5f8c\u8aaa\uff1a"]}),Object(u.jsx)("div",{id:"alert-user-message",style:{fontWeight:400,fontSize:"36px",color:"rgb(255, 255, 255)",fontFamily:"Noto Sans TC"},children:s})]})})]})]})})}}]),n}(s.Component),p=(n(21),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.message;return Object(u.jsx)("div",{id:"widget",className:"widget-AlertBox","data-layout":"side",children:Object(u.jsxs)("div",{id:"alert-box",children:[Object(u.jsx)("div",{id:"particles",className:"hidden"}),Object(u.jsxs)("div",{id:"wrap",children:[Object(u.jsx)("div",{id:"alert-image-wrap",children:Object(u.jsx)("div",{id:"alert-image",style:{backgroundImage:'url("https://uploads.twitchalerts.com/000/031/541/432/giphy.gif")'},children:Object(u.jsx)("img",{style:{height:"1px",opacity:0,width:"1px"},src:"https://uploads.twitchalerts.com/000/031/541/432/giphy.gif"})})}),Object(u.jsx)("div",{id:"alert-text-wrap",children:Object(u.jsxs)("div",{id:"alert-text",children:[Object(u.jsxs)("div",{id:"alert-message",style:{fontSize:"34px",color:"rgb(255, 255, 255)",fontFamily:'"Noto Sans TC"',fontWeight:500},children:["\u4f60 \u2642",Object(u.jsx)("span",{"data-token":"name",style:{color:"rgb(129, 203, 238)",position:"relative"},children:Object(u.jsx)("span",{children:Object(u.jsx)("span",{className:"animated-letter None",children:t})})}),"\u2642 \u7239"]}),Object(u.jsx)("div",{id:"alert-user-message",style:{fontWeight:400,fontSize:"30px",color:"rgb(255, 255, 255)",fontFamily:'"Noto Sans TC"'},children:n})]})})]})]})})}}]),n}(s.Component)),g=new function e(){var t=this;Object(c.a)(this,e),this.splitTextV1=function(e,t,n,s){var a=[];!function e(s,i){if(t[i]&&s.trim().length)if(s.indexOf(t[i])>-1){var r=1,c=s.split(t[i]);c.forEach((function(s){if(s.length){var o="";r!==c.length&&(o=t[i]),s=(s+o).trim()}s.length&&s.length<=n?a.push(s):e(s,i+1),r++}))}else e(s,i+1);else if(s.length)for(var o=new RegExp(".{1,".concat(n,"}"),"g"),l=s.match(o);l.length>0;)a.push(l.shift().trim())}(e,0);var i=[];a.forEach((function(e){i.length&&i[i.length-1].length+e.length+1<=n?i[i.length-1]+=" ".concat(e):i.push(e)}));var r=s.match(/([0-9])\d+/g),c=0;return r&&r.forEach((function(e){c+=parseInt(e)})),i.unshift(c),i},this.formatText=function(e,n,s){var a=e=e.replace(/\s+/g," "),i=e;a.length>300&&(a="".concat(a.substring(0,296),"...")),i.length>550&&(i="".concat(i.substring(0,446),"..."));var r=new RegExp("\\b(".concat(["cheer","doodlecheer","biblethump","cheerwhal","corgo","scoops","party","seemsgood","pride","uni","showlove","kappa","frankerz","heyguys","dansgame","elegiggle","trihard","kreygasm","4head","swiftrage","notlikethis","failfish","vohiyo","pjsalt","mrdestructoid","bday","ripcheer","shamrock","bitboss","streamlabs","muxy","holidaycheer","goal","anon","charity","tgm3cheer"].join("|"),")([0-9]+)\\b"),"gi"),c=/(^|\s)([a-zA-Z0-9][a-zA-Z]+|[a-zA-Z0-9]+cheer)([0-9]+)(\s|$)/i,o=a.match(r),l=[];o&&(l=o.map((function(e){return c.exec(e)})));var h="",u=i;return l.forEach((function(e){u=u.replace(e[0],""),h=h+e[0]+" "})),i=(i=u).replace(/((?:https?|ftp):\/\/[\n\S]+)|(<([^>]+)>)+/gi,"").trim(),t.splitTextV1(i,n,s,h)}},m=n(11),b=n.n(m),j=n.p+"static/media/sub.14661d03.mp3",f=n.p+"static/media/cheer.089e4f3c.mp3",x=(n.p,n.p,n(12)),v=n.n(x),O=[],y=null,S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={running:!1,sound:null,printState:!1,playState:!1,subState:!1,subUser:"\u9580\u7279\u9b6f",subMessage:"\ud83d\udc72\ud83e\udd38",cheerState:!1,cheerUser:"\u9580\u7279\u9b6f",cheerBits:0,cheerMessage:"\ud83d\udc72\ud83e\udd38"},e.getApiUrl=function(e){return"https://m3ntru-tts.herokuapp.com/api/TTS/one?text=".concat(encodeURIComponent(e).concat("&tl=cn"))},e.initTmi=function(){var t=new v.a.Client({options:{debug:!0,messagesLogLevel:"info"},connection:{reconnect:!0,secure:!0},identity:{username:"zatd93",password:"gkix08xt2p5gdys5by00fdomof38qo"},channels:["tetristhegrandmaster3"]});t.connect().catch(console.error),t.on("subscription",(function(t,n,s,a,i){var r=[];r.push(j),r.push(e.getApiUrl(a));var c={type:"s",user:n,messageAll:a,message:[],soundUrl:r,cheer:0};O.push(c),e.state.running||(e.setState({running:!0}),e.alertExec())})),t.on("resub",(function(t,n,s,a,i,r){var c=[];c.push(j),c.push(e.getApiUrl(a));var o={type:"s",user:n,messageAll:a,message:[],soundUrl:c,cheer:0};O.push(o),e.state.running||(e.setState({running:!0}),e.alertExec())})),t.on("cheer",(function(t,n,s){var a=g.formatText(s,[".","!","?",":",";",","," "],90),i=a.shift(),r=[];r.push(f),a.forEach((function(e){var t="https://m3ntru-tts.herokuapp.com/api/TTS/one?text=".concat(encodeURIComponent(e).concat("&tl=cn"));r.push(t)}));var c={type:"c",user:n["display-name"],messageAll:s,message:a,soundUrl:r,cheer:i};O.push(c),e.state.running||(e.setState({running:!0}),e.alertExec())})),t.on("message",(function(e,t,n,s){})),t.on("subgift",(function(t,n,s,a,i,r){var c=[];c.push(j),c.push(e.getApiUrl(""));var o={type:"s",user:a,messageAll:null,message:[],soundUrl:c,cheer:0};O.push(o),e.state.running||(e.setState({running:!0}),e.alertExec())}))},e.alertExec=function(){y=O.shift(),console.log(y);var t=y.soundUrl.shift();e.setState({sound:t,subState:"s"==y.type,subUser:y.user,subMessage:y.messageAll,cheerState:"c"==y.type,cheerUser:y.user,cheerMessage:y.messageAll,cheerBits:y.cheer}),setTimeout((function(){return e.printEnd()}),1e4)},e.printEnd=function(){e.setState({subState:!1,cheerState:!1}),setTimeout((function(){return e.printCooldown()}),5e3)},e.printCooldown=function(){e.state.playState?(e.setState({playState:!1,printState:!1}),O.length?e.alertExec():e.setState({running:!1})):e.setState({printState:!0})},e.soundEnd=function(){if(e.setState({sound:null}),y.soundUrl.length){var t=y.soundUrl.shift();e.setState({sound:t})}else e.state.printState?(e.setState({playState:!1,printState:!1}),O.length?e.alertExec():e.setState({running:!1})):e.setState({playState:!0})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.initTmi()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("div",{className:this.state.subState?"fadeIn":"fadeOut",children:Object(u.jsx)(p,{username:this.state.subUser,message:this.state.subMessage})}),Object(u.jsx)("div",{className:this.state.cheerState?"fadeIn":"fadeOut",children:Object(u.jsx)(d,{username:this.state.cheerUser,message:this.state.subMessage,bits:this.state.cheerBits})})]}),Object(u.jsx)(b.a,{src:this.state.sound,title:"",autoPlay:!0,onEnded:this.soundEnd})]})}}]),n}(s.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),w()},8:function(e,t){}},[[42,1,2]]]);
//# sourceMappingURL=main.e3749adf.chunk.js.map