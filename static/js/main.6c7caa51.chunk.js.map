{"version":3,"sources":["logo.svg","Components/Cheer/index.js","Components/Sub/index.js","model/Converter.js","sound/sub.mp3","sound/cheer.mp3","sound/sub2.mp3","sound/sub3.mp3","App.js","reportWebVitals.js","index.js"],"names":["Cheer","this","props","username","bits","message","id","className","data-layout","style","backgroundImage","height","opacity","width","src","fontSize","color","fontFamily","fontWeight","data-token","position","Component","Sub","splitTextV1","t","e","n","c","r","text","o","i","trim","length","indexOf","a","s","split","forEach","push","RegExp","concat","u","match","shift","out","cheerList","cheerTotal","parseInt","unshift","formatText","replace","l","substring","d","join","m","y","g","map","exec","b","queue","current","App","state","running","sound","printState","playState","subState","subUser","subMessage","cheerState","cheerUser","cheerBits","cheerMessage","getApiUrl","encodeURIComponent","initTmi","client","tmi","Client","options","debug","messagesLogLevel","connection","reconnect","secure","identity","password","channels","connect","catch","console","error","on","channel","method","userstate","playList","SubSound","data","type","user","messageAll","soundUrl","cheer","setState","alertExec","months","methods","result","Converter","bit","CheerSound","target","context","msg","self","log","setTimeout","printEnd","printCooldown","soundEnd","title","autoPlay","onEnded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c7caa51.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { Component } from 'react';\r\nimport './Cheer.css';\r\n\r\nclass Cheer extends Component {\r\n\r\n    render() {\r\n        const { username, bits, message } = this.props;\r\n        return (\r\n            <div id=\"widget\" className=\"widget-AlertBox\" data-layout=\"side\">\r\n                <div id=\"alert-box\">\r\n                    <div id=\"particles\" />\r\n                    <div id=\"wrap\">\r\n                        <div id=\"alert-image-wrap\">\r\n                            <div id=\"alert-image\" style={{ backgroundImage: 'url(\"https://uploads.twitchalerts.com/000/031/541/432/289.gif\")' }}>\r\n                                <img style={{ height: '1px', opacity: 0, width: '1px' }} src=\"https://uploads.twitchalerts.com/000/031/541/432/289.gif\" />\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"alert-text-wrap\">\r\n                            <div id=\"alert-text\">\r\n                                <div id=\"alert-message\" style={{ fontSize: '34px', color: 'rgb(255, 255, 255)', fontFamily: '\"Noto Sans TC\"', fontWeight: 400 }}>\r\n                                    <span data-token=\"name\" style={{ color: 'rgb(229, 143, 95)', position: 'relative' }}><span><span className=\"animated-letter None\">\r\n                                        {username}\r\n                                    </span></span></span>\r\n                                    今日憤怒の屌扔\r\n                                <span data-token=\"amount\" style={{ color: 'rgb(229, 143, 95)', position: 'relative' }}><span><span className=\"animated-letter None\">\r\n                                        {bits}\r\n                                    </span></span></span>\r\n                                    粒然後說：\r\n                                </div>\r\n                                <div id=\"alert-user-message\" style={{ fontWeight: 400, fontSize: '36px', color: 'rgb(255, 255, 255)', fontFamily: 'Noto Sans TC' }}>\r\n                                    {/* <img src=\"https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/animated/100/2.gif\" /><font color=\"#be61ff\">100 </font>\r\n                                    早骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ，骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ骯ㄤ */}\r\n                                    {message}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Cheer;","import React, { Component } from 'react';\r\nimport './Sub.css';\r\n\r\nclass Sub extends Component {\r\n\r\n    render() {\r\n        const { username, message } = this.props;\r\n        return (\r\n            <div id=\"widget\" className=\"widget-AlertBox\" data-layout=\"side\">\r\n                <div id=\"alert-box\">\r\n                    <div id=\"particles\" className=\"hidden\" />\r\n                        <div id=\"wrap\">\r\n                            <div id=\"alert-image-wrap\">\r\n                                <div id=\"alert-image\" style={{backgroundImage: 'url(\"https://uploads.twitchalerts.com/000/031/541/432/giphy.gif\")'}}><img style={{height: '1px', opacity: 0, width: '1px'}} src=\"https://uploads.twitchalerts.com/000/031/541/432/giphy.gif\" />\r\n                                </div>\r\n                            </div>\r\n                            <div id=\"alert-text-wrap\">\r\n                                <div id=\"alert-text\">\r\n                                    <div id=\"alert-message\" style={{fontSize: '34px', color: 'rgb(255, 255, 255)', fontFamily: '\"Noto Sans TC\"', fontWeight: 500}}>\r\n                                        你 ♂\r\n                                        <span data-token=\"name\" style={{color: 'rgb(129, 203, 238)', position: 'relative'}}><span><span className=\"animated-letter None\">\r\n                                            {username}\r\n                                        </span></span></span>\r\n                                        ♂ 爹\r\n                                    </div>\r\n                                    <div id=\"alert-user-message\" style={{fontWeight: 400, fontSize: '30px', color: 'rgb(255, 255, 255)', fontFamily: '\"Noto Sans TC\"'}}>\r\n                                        {message}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Sub;","class Converter {\r\n    splitTextV1 = (t, e, n, c) => {\r\n        var r = [];\r\n        function text(o, i) {\r\n            if (e[i] && o.trim().length)\r\n                if (o.indexOf(e[i]) > -1) {\r\n                    var a = 1\r\n                        , s = o.split(e[i]);\r\n                    s.forEach((function (o) {\r\n                        if (o.length) {\r\n                            var c = \"\";\r\n                            a !== s.length && (c = e[i]);\r\n                            o = (o + c).trim()\r\n                        }\r\n                        o.length && o.length <= n ? r.push(o) : text(o, i + 1);\r\n                        a++\r\n                    }\r\n                    ))\r\n                } else\r\n                    text(o, i + 1);\r\n            else if (o.length)\r\n                for (var c = new RegExp(\".{1,\".concat(n, \"}\"), \"g\"), u = o.match(c); u.length > 0;)\r\n                    r.push(u.shift().trim())\r\n        };\r\n        text(t, 0);\r\n\r\n        var out = [];\r\n        r.forEach(function (t) {\r\n            out.length && out[out.length - 1].length + t.length + 1 <= n ? out[out.length - 1] += \" \".concat(t) : out.push(t)\r\n        })\r\n        var cheerRegex = /([0-9])\\d+/g;\r\n        var cheerList = c.match(cheerRegex);\r\n        var cheerTotal = 0;\r\n        if(cheerList){\r\n            cheerList.forEach(function(t){\r\n                cheerTotal = cheerTotal + parseInt(t);\r\n            })\r\n        }\r\n        out.unshift(cheerTotal);\r\n        return out;\r\n    }\r\n\r\n    formatText = (t, e, n) => {\r\n        var space = /\\s+/g;\r\n        //var comma = /,/g;\r\n        t = t.replace(space, ' ');\r\n        //t = t.replace(comma, '');\r\n        var u = t,\r\n            l = t,\r\n            f = [\"cheer\", \"doodlecheer\", \"biblethump\", \"cheerwhal\", \"corgo\", \"scoops\", \"party\", \"seemsgood\", \"pride\", \"uni\", \"showlove\", \"kappa\", \"frankerz\", \"heyguys\", \"dansgame\", \"elegiggle\", \"trihard\", \"kreygasm\", \"4head\", \"swiftrage\", \"notlikethis\", \"failfish\", \"vohiyo\", \"pjsalt\", \"mrdestructoid\", \"bday\", \"ripcheer\", \"shamrock\", \"bitboss\", \"streamlabs\", \"muxy\", \"holidaycheer\", \"goal\", \"anon\", \"charity\", \"tgm3cheer\"]\r\n        u.length > 300 && (u = \"\".concat(u.substring(0, 296), \"...\"));\r\n        l.length > 550 && (l = \"\".concat(l.substring(0, 446), \"...\"));\r\n        var d = new RegExp(\"\\\\b(\".concat(f.join(\"|\"), \")([0-9]+)\\\\b\"), \"gi\"),\r\n            m = /(^|\\s)([a-zA-Z0-9][a-zA-Z]+|[a-zA-Z0-9]+cheer)([0-9]+)(\\s|$)/i,\r\n            y = u.match(d),\r\n            g = [];\r\n        y && (g = y.map((function (t) {\r\n            return m.exec(t)\r\n        })));\r\n        var c = \"\";\r\n        var b = l;\r\n        g.forEach((function (t) {\r\n            b = b.replace(t[0], \"\");\r\n            c = c + t[0] + ' ';\r\n        }))\r\n        l = b;\r\n        l = l.replace(/((?:https?|ftp):\\/\\/[\\n\\S]+)|(<([^>]+)>)+/gi, \"\").trim();\r\n        return this.splitTextV1(l, e, n, c);\r\n    }\r\n}\r\n\r\nexport default new Converter()\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/sub.14661d03.mp3\";","export default __webpack_public_path__ + \"static/media/cheer.e4cb3033.mp3\";","export default __webpack_public_path__ + \"static/media/sub2.242497c4.mp3\";","export default __webpack_public_path__ + \"static/media/sub3.722d483f.mp3\";","import logo from './logo.svg';\nimport React, { Component } from 'react';\nimport './App.css';\nimport Cheer from './Components/Cheer';\nimport Sub from './Components/Sub';\nimport Converter from './model/Converter'\nimport AudioPlayer from 'react-audio-player';\nimport SubSound from './sound/sub.mp3';\nimport CheerSound from './sound/cheer.mp3';\nimport SubSound2 from './sound/sub2.mp3';\nimport SubSound3 from './sound/sub3.mp3';\nimport tmi from 'tmi.js'\n\nvar queue = [];\nvar current = null;\n\n/* \n{\n  type: 'c',\n  user: '',\n  messageAll: '',\n  message: [],\n  cheer: 0,\n  subPlayed: false;\n }\n*/\n\nclass App extends Component {\n  state = {\n    running: false,\n    sound: null,\n    printState: false,\n    playState: false,\n    subState: false,\n    subUser: '門特魯',\n    subMessage: '👲🤸',\n    cheerState: false,\n    cheerUser: '門特魯',\n    cheerBits: 0,\n    cheerMessage: '👲🤸'\n  }\n\n  componentDidMount() {\n    this.initTmi()\n  }\n\n  getApiUrl = (t) => {\n    var result = \"https://m3ntru-tts.herokuapp.com/api/TTS/one?text=\".concat(encodeURIComponent(t).concat('&tl=cn'));\n    return result;\n  }\n\n  initTmi = () => {\n    const client = new tmi.Client({\n      options: { debug: true, messagesLogLevel: \"info\" },\n      connection: {\n        reconnect: true,\n        secure: true\n      },\n      identity: {\n        username: 'zatd93',\n        password: 'gkix08xt2p5gdys5by00fdomof38qo'\n      },\n      channels: ['tetristhegrandmaster3']\n    });\n    client.connect().catch(console.error);\n    client.on('subscription', (channel, username, method, message, userstate) => {\n      var playList = [];\n      playList.push(SubSound);\n      playList.push(this.getApiUrl(message));\n      var data = {\n        type: 's',\n        user: username,\n        messageAll: message,\n        message: [],\n        soundUrl: playList,\n        cheer: 0\n      }\n      queue.push(data);\n      if (!this.state.running) {\n        this.setState({\n          running: true\n        })\n        this.alertExec();\n      }\n    });\n    client.on('resub', (channel, username, months, message, userstate, methods) => {\n      var playList = [];\n      playList.push(SubSound);\n      playList.push(this.getApiUrl(message));\n      var data = {\n        type: 's',\n        user: username,\n        messageAll: message,\n        message: [],\n        soundUrl: playList,\n        cheer: 0\n      }\n      queue.push(data);\n      if (!this.state.running) {\n        this.setState({\n          running: true\n        })\n        this.alertExec();\n      }\n    });\n    client.on('cheer', (channel, userstate, message) => {\n      var result = Converter.formatText(message, [\".\", \"!\", \"?\", \":\", \";\", \",\", \" \"], 90);\n      var bit = result.shift();\n      var playList = [];\n      playList.push(CheerSound);\n      result.forEach(function (t) {\n        var result = \"https://m3ntru-tts.herokuapp.com/api/TTS/one?text=\".concat(encodeURIComponent(t).concat('&tl=cn'));\n        playList.push(result);\n      })\n      var data = {\n        type: 'c',\n        user: userstate['display-name'],\n        messageAll: message,\n        message: result,\n        soundUrl: playList,\n        cheer: bit\n      }\n      queue.push(data);\n      if (!this.state.running) {\n        this.setState({\n          running: true\n        })\n        this.alertExec();\n      }\n    });\n\n    client.on('message', (target, context, msg, self) => {\n      // var result = Converter.formatText(msg, [\".\", \"!\", \"?\", \":\", \";\", \",\", \" \"], 90);\n      // var bit = result.shift();\n      // var playList = [];\n      // console.log(result);\n      // // queue.push(msg);\n      // console.log(msg);\n      // console.log(bit);\n      // if (bit == 0) {\n      //   playList.push(SubSound);\n      //   playList.push(this.getApiUrl(msg));\n      //   var data = {\n      //     type: 's',\n      //     user: context.username,\n      //     messageAll: msg,\n      //     message: [],\n      //     soundUrl: playList,\n      //     cheer: 0\n      //   }\n      //   queue.push(data);\n      // }\n      // else {\n      //   playList.push(CheerSound);\n      //   result.forEach(function (t) {\n      //     var result = \"https://m3ntru-tts.herokuapp.com/api/TTS/one?text=\".concat(encodeURIComponent(t).concat('&tl=cn'));\n      //     playList.push(result);\n      //   })\n      //   var data = {\n      //     type: 'c',\n      //     user: context.username,\n      //     messageAll: msg,\n      //     message: result,\n      //     soundUrl: playList,\n      //     cheer: bit\n      //   }\n      //   queue.push(data);\n      // }\n    });\n  }\n\n  alertExec = () => {\n    current = queue.shift();\n    console.log(current);\n    var sound = current.soundUrl.shift();\n    this.setState({\n      sound: sound,\n      subState: (current.type == 's') ? true : false,\n      subUser: current.user,\n      subMessage: current.messageAll,\n      cheerState: (current.type == 'c') ? true : false,\n      cheerUser: current.user,\n      cheerMessage: current.messageAll,\n      cheerBits: current.cheer \n    })\n    setTimeout(() => this.printEnd(), 10000);\n  }\n\n  printEnd = () => {\n    this.setState({\n      subState: false,\n      cheerState: false\n    })\n    setTimeout(() => this.printCooldown(), 5000);\n  }\n\n  printCooldown = () => {\n    if(this.state.playState){\n      this.setState({\n        playState: false,\n        printState: false\n      })\n      if(queue.length){\n        this.alertExec();\n      }\n      else{\n        this.setState({\n          running: false\n        })\n      }\n    }\n    else{\n      this.setState({\n        printState: true\n      })\n    }\n  }\n\n  soundEnd = () => {\n    this.setState({\n      sound: null\n    })\n    if (current.soundUrl.length) {\n      var data = current.soundUrl.shift();\n      this.setState({\n        sound: data\n      })\n    }\n    else {\n      if(this.state.printState){\n        this.setState({\n          playState: false,\n          printState: false\n        })\n        if(queue.length){\n          this.alertExec();\n        }\n        else{\n          this.setState({\n            running: false\n          })\n        }\n      }\n      else{\n        this.setState({\n          playState: true\n        })\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div className={(this.state.subState) ? 'fadeIn' : 'fadeOut'}>\n            <Sub username={this.state.subUser} message={this.state.subMessage} />\n          </div>\n          <div className={(this.state.cheerState) ? 'fadeIn' : 'fadeOut'}>\n            <Cheer username={this.state.cheerUser} message={this.state.subMessage} bits={this.state.cheerBits} />\n          </div>\n        </header>\n        <AudioPlayer\n          src={this.state.sound}\n          title={\"\"}\n          autoPlay\n          onEnded={this.soundEnd}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}